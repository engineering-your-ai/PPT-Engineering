/**
 * 全局样式文件
 */

/* Tailwind CSS 基础样式 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 主题CSS变量映射 - 将主题变量映射到Tailwind可用的变量 */
:root {
  /* 主题变量将由useTheme动态设置，这里提供Tailwind映射 */
  
  /* 文本色映射 */
  --tw-color-text-primary: var(--theme-text-primary, #161616);
  --tw-color-text-secondary: var(--theme-text-secondary, #686969);
  --tw-color-text-invert: var(--theme-text-invert, #ffffff);
  
  /* 背景色映射 */
  --tw-color-bg-default: var(--theme-bg-default, #ffffff);
  --tw-color-bg-invert: var(--theme-bg-invert, #014f9c);
  
  /* 边框色映射 */
  --tw-color-border-default: var(--theme-border-default, #e5e7eb);
  --tw-color-border-subtle: var(--theme-border-subtle, #d1d5db);
  
  /* 链接色映射 */
  --tw-color-link-default: var(--theme-link-default, #3b82f6);
  --tw-color-link-hover: var(--theme-link-hover, #2563eb);
  --tw-color-link-visited: var(--theme-link-visited, #7c3aed);
  
  /* 强调色映射 */
  --tw-color-accent1: var(--theme-accent-1, #6366f1);
  --tw-color-accent2: var(--theme-accent-2, #34d399);
  --tw-color-accent3: var(--theme-accent-3, #fbbf24);
  --tw-color-accent4: var(--theme-accent-4, #f87171);
  --tw-color-accent5: var(--theme-accent-5, #60a5fa);
  --tw-color-accent6: var(--theme-accent-6, #a78bfa);
  
  /* 字体映射 */
  --tw-font-heading: var(--theme-font-heading, 'Noto Sans SC');
  --tw-font-body: var(--theme-font-body, 'Noto Sans SC');
  --tw-font-code: var(--theme-font-code, 'Fira Code');
  --tw-font-size-base: var(--theme-font-size-base, 16px);
  
  /* 布局 */
  --sidebar-width: 280px;
  --sidebar-collapsed-width: 64px;
  --header-height: 64px;
  --footer-height: 60px;
  --container-max-width: 1200px;
  
  /* 过渡动画 */
  --transition-fast: 0.15s ease-in-out;
  --transition-normal: 0.3s ease-in-out;
  --transition-slow: 0.5s ease-in-out;
  --transition-bounce: 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Z-index层级 */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-toast: 1080;
}

/* 基础样式重置 */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--theme-bg-default, #ffffff);
  color: var(--theme-text-primary, #1f2937);
  line-height: 1.6;
}

/* 滚动条样式 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--theme-bg-subtle, #f9fafb);
  border-radius: 0.375rem;
}

::-webkit-scrollbar-thumb {
  background: var(--theme-border-subtle, #d1d5db);
  border-radius: 0.375rem;
  transition: background-color 0.15s ease-in-out;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--theme-text-invert, #9ca3af);
}

/* 通用工具类 */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.transition-all {
  transition: all var(--transition-normal);
}
/* 动态内容样式 - 用于处理v-html等动态插入的内容 */
.theme-content {
  /* 标题样式 */
  & :deep(h1) { @apply font-heading text-4xl font-bold text-primary mb-4; }
  & :deep(h2) { @apply font-heading text-3xl font-semibold text-primary mb-3; }
  & :deep(h3) { @apply font-heading text-2xl font-semibold text-primary mb-3; }
  & :deep(h4) { @apply font-heading text-xl font-semibold text-primary mb-2; }
  & :deep(h5) { @apply font-heading text-lg font-semibold text-primary mb-2; }
  & :deep(h6) { @apply font-heading text-base font-semibold text-primary mb-2; }
  
  /* 文本样式 */
  & :deep(p) { @apply font-body text-secondary mb-4 leading-relaxed; }
  & :deep(a) { @apply text-primary hover:opacity-80 underline transition-all; }
  
  /* 列表样式 */
  & :deep(ul), & :deep(ol) { @apply font-body text-secondary mb-4 pl-6; }
  & :deep(li) { @apply mb-1; }
  
  /* 引用样式 */
  & :deep(blockquote) { @apply border-l-4 border-border-500 pl-4 italic text-invert; }
  
  /* 代码样式 */
  & :deep(code) { @apply font-code bg-background-100 text-primary px-1 py-0.5 rounded text-sm; }
  & :deep(pre) { @apply font-code bg-background-100 border border-border-500 rounded-lg p-4 overflow-x-auto; }
  & :deep(pre code) { @apply bg-transparent p-0; }
}